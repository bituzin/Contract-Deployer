import{aC as l,aD as w,aE as b,aF as F,aG as y,aH as g,aI as h,aJ as A,ao as E,aK as N,aL as m,aM as P,aN as I,aO as f,aP as R}from"./index-6e4b0420.js";function G(a){const{abi:r,data:e}=a,n=l(e,0,4),t=r.find(o=>o.type==="function"&&n===w(b(o)));if(!t)throw new F(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:t.name,args:"inputs"in t&&t.inputs&&t.inputs.length>0?y(t.inputs,l(e,4)):void 0}}const u="/docs/contract/encodeErrorResult";function p(a){const{abi:r,errorName:e,args:n}=a;let t=r[0];if(e){const c=g({abi:r,args:n,name:e});if(!c)throw new h(e,{docsPath:u});t=c}if(t.type!=="error")throw new h(void 0,{docsPath:u});const o=b(t),s=w(o);let i="0x";if(n&&n.length>0){if(!t.inputs)throw new A(t.name,{docsPath:u});i=E(t.inputs,n)}return N([s,i])}const d="/docs/contract/encodeFunctionResult";function H(a){const{abi:r,functionName:e,result:n}=a;let t=r[0];if(e){const s=g({abi:r,name:e});if(!s)throw new m(e,{docsPath:d});t=s}if(t.type!=="function")throw new m(void 0,{docsPath:d});if(!t.outputs)throw new P(t.name,{docsPath:d});const o=(()=>{if(t.outputs.length===0)return[];if(t.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new I(n)})();return E(t.outputs,o)}const M="x-batch-gateway:true";async function q(a){const{data:r,ccipRequest:e}=a,{args:[n]}=G({abi:f,data:r}),t=[],o=[];return await Promise.all(n.map(async(s,i)=>{try{o[i]=s.urls.includes(M)?await q({data:s.data,ccipRequest:e}):await e(s),t[i]=!1}catch(c){t[i]=!0,o[i]=x(c)}})),H({abi:f,functionName:"query",result:[t,o]})}function x(a){return a.name==="HttpRequestError"&&a.status?p({abi:f,errorName:"HttpError",args:[a.status,a.shortMessage]}):p({abi:[R],errorName:"Error",args:["shortMessage"in a?a.shortMessage:a.message]})}export{q as a,H as b,G as d,p as e,M as l};
